<!DOCTYPE html>
<html lang="en">

<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">
<link rel="stylesheet" href="/assets/css/style.css">
<title>Using cointegration to measure the co-movement of assets (Part 1)</title>
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Using cointegration to measure the co-movement of assets (Part 1) | Personal Notebook</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Using cointegration to measure the co-movement of assets (Part 1)" />
<meta name="author" content="Yarden" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I came across this tweet from some anon on twitter directing to this paper of Daniel P. Palomar from Hong Kong university. To reiterate from the paper, he suggests testing for cointegration instead of testing for assets returns correlation. While correlation characterizes short term co-movement, cointegration refers to the long term co-movement. I think, if I understand correctly then the idea behind cointegration is to check for the difference between noramlized prices of assets and see if the difference is stationary. If it is then one can just regress the price of asset 1 over the price of asset 2 (with OLS) since they will converge at some point." />
<meta property="og:description" content="I came across this tweet from some anon on twitter directing to this paper of Daniel P. Palomar from Hong Kong university. To reiterate from the paper, he suggests testing for cointegration instead of testing for assets returns correlation. While correlation characterizes short term co-movement, cointegration refers to the long term co-movement. I think, if I understand correctly then the idea behind cointegration is to check for the difference between noramlized prices of assets and see if the difference is stationary. If it is then one can just regress the price of asset 1 over the price of asset 2 (with OLS) since they will converge at some point." />
<link rel="canonical" href="http://localhost:4000/trading/crypto/cointegration/2023/02/08/cointegration-test.html" />
<meta property="og:url" content="http://localhost:4000/trading/crypto/cointegration/2023/02/08/cointegration-test.html" />
<meta property="og:site_name" content="Personal Notebook" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-02-08T00:00:00+07:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Using cointegration to measure the co-movement of assets (Part 1)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yarden"},"dateModified":"2023-02-08T00:00:00+07:00","datePublished":"2023-02-08T00:00:00+07:00","description":"I came across this tweet from some anon on twitter directing to this paper of Daniel P. Palomar from Hong Kong university. To reiterate from the paper, he suggests testing for cointegration instead of testing for assets returns correlation. While correlation characterizes short term co-movement, cointegration refers to the long term co-movement. I think, if I understand correctly then the idea behind cointegration is to check for the difference between noramlized prices of assets and see if the difference is stationary. If it is then one can just regress the price of asset 1 over the price of asset 2 (with OLS) since they will converge at some point.","headline":"Using cointegration to measure the co-movement of assets (Part 1)","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/trading/crypto/cointegration/2023/02/08/cointegration-test.html"},"url":"http://localhost:4000/trading/crypto/cointegration/2023/02/08/cointegration-test.html"}</script>
<!-- End Jekyll SEO tag -->

 <!-- for mathjax support -->
    
      <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>
      <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>

<body>
  <main class="container">
    <section class="about">
      <a href="/">
        
        <img src="/assets/Scan.png" alt="Yarden Gur" />
        
      </a>
      <h2 id="title">
        <a href="/">Yarden Gur</a>
      </h2>
      <p class="tagline">Notebook</p>
      <ul class="social"><a href="https://github.com/bm1125" target="_blank">
          <li>
            <i class="icon-github-circled"></i>
          </li>
        </a><a href="https://twitter.com/yarden_gur" target="_blank">
          <li>
            <i class="icon-twitter-squared"></i>
          </li>
        </a><a href=" https://t.me/yardeng" target="_blank">
          <li>
            <i class="icon-telegram"></i>
          </li>
        </a></ul><p>&copy;
        2025</p></section>
    <section class="content">
      <div class="post-container">
  <a class="post-link" href="/trading/crypto/cointegration/2023/02/08/cointegration-test.html">
    <h2 class="post-title">Using cointegration to measure the co-movement of assets (Part 1)</h2>
  </a>
  <div class="post-meta">
    <div class="post-date"><i class="icon-calendar"></i>Feb 8, 2023</div><ul class="post-categories"><li>Trading</li><li>Crypto</li><li>Cointegration</li></ul></div>
  <div class="post">
    <p>I came across this <a href="https://twitter.com/nik_algo/status/1620412692560490496">tweet</a> from some anon on twitter directing to this <a href="https://palomar.home.ece.ust.hk/MAFS5310_lectures/slides_pairs_trading.pdf">paper</a> of Daniel P. Palomar from Hong Kong university. To reiterate from the paper, he suggests testing for cointegration instead of testing for assets returns correlation. While correlation characterizes short term co-movement, cointegration refers  to the long term co-movement. I think, if I understand correctly then the idea behind cointegration is to check for the difference between noramlized prices of assets and see if the difference is stationary. If it is then one can just regress the price of asset 1 over the price of asset 2 (with OLS) since they will converge at some point.</p>

<p>I’m not sure I fully understand it but I think both ways (correlation and cointegraiton) serves as way to measure co-movement of two assets but cointegration allow to see co-movement without the need to test it over different timeframes as with correlation.</p>

<p>To test for cointegration, you need to first normalize the price of both assets. A noramlized price is \(\ \tilde{p_t} = \frac{p_t}{p_0}\) then, compute the difference \(\ \tilde{p_{1t}} - \tilde{p_{2t}}\) of the noramlized prices of the assets. If the difference is stationary (mean reverting) then I may be able to model the two assets prices \(\ y_1, y_2\) as follows:</p>

\[\ 
y_{1t} = \alpha \cdot x_{t} + \epsilon_{1t} \\
y_{2t} = x_{t} + \epsilon_{2t} \\\]

<p>With \(\ \epsilon_1, \epsilon_2\) are i.i.d. residual terms. And I use OLS to estimate the \(\ \alpha\) which is the secrent ingridient.</p>

<p>I’m going to try and put it to the test. I used Binance API to download 5 minute candles, from Nov 1, 22’ to Feb 1, 23’, of every coin listed on binance. Had approx ~2200 coins. Unfortunately, mainy of the requests I sent to their server for the candle data, returned empty handed. So I filtered any of those and left with 1453 coins. I saved the data of each coin into its own CSV file so I will be able to access it later.</p>

<p>I wanted to check every possible combination, which summed up to more than one million combinations. Unfortunately it was unnecessary as I forgot many assets are quoted in almost identical assets. For example, BNB-USDT, BNB-BUSD, BNB-USDC, BNB-DAI. USDT, BUSD, USDC &amp; DAI are stable coins meant to follow the US dollar.
Anyway, I then ran a script checking the NPD for each two coins. \(\ NPD = \sum_{t=0}^T (\tilde{p_{1t}} - \tilde{p_{2t}})^2\) and saved the result for each possible combination into a file. So at first it doesn’t look very promising. The highest ranked NPD coins pairs were actually currencies (AUD, EUR, USD).</p>

<p>I have attached below some examples of pairs I have found. Some seems to be moving together while not necessarily having high correlation, although for these cases, it seems one of the coins are just not liquid enough and that what may cause it.</p>

<p><img src="/assets/cointegration/DATAUSDT-OMUSDT.png" alt="normalized prices movement and difference" />
Correlation of this pair is around \(\ 0.20\). Correlation plot:</p>

<p><img src="/assets/cointegration/DATAUSDT_OMUSDT_CORRELATION.png" alt="correlation plot" /></p>

<p>Others, seems to be highly correlated anyway, so I am not sure if cointegration has any additional value.
Correlation \(\ ~0.55\)
<img src="/assets/cointegration/XLMUSDT-NEOUSDT.png" alt="normalized prices and movement" /></p>

<p>I still have a very long list to go over so to be continued in the next note.</p>

  </div></div>

    </section>
  </main>
  <script src="/assets/js/simple-jekyll-search.min.js"></script>
  <script src="/assets/js/search.js"></script>
  
 
</body>

</html>
